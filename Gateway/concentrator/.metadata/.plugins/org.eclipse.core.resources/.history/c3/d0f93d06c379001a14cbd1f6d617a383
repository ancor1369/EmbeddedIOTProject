
#include "restDriver/restDriver.h"
#include "nlohmann/json.hpp"
#include "Models/MessageModels.h"



#define message "CA00{\"CXT\":\"PRO\",\"Object\":{\"DeviceID\":\"01\"}}"

using json = nlohmann::json;


int main()
{
	restDriver driver;

	std::string server = "http://localhost:7000/";
	std::string endpoint = "/product/50";

	driver.setServer(server);
	driver.setEndPoint(endpoint);

	std::cout << driver.getMethod() << std::endl;
	std::cout<<message<<std::endl;


	ms::incommingMessage p = {"PRO","{\"DeviceID\":\"01\"}"};

	nlohmann::json j;
	j["CXT"] = p.cxt;
	j["Object"] = p.object;



	return 0;
}
